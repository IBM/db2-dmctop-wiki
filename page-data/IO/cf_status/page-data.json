{
    "componentChunkName": "component---src-pages-io-cf-status-mdx",
    "path": "/IO/cf_status/",
    "result": {"pageContext":{"frontmatter":{"description":"IO / Cf Status","title":"IO / Cf Status"},"relativePagePath":"/IO/cf_status.mdx","titleType":"page","MdxNode":{"id":"d3b688bc-4fa9-5fec-b4c7-31151ea7be3c","children":[],"parent":"a1b6798e-a678-5dc9-a7c1-7d2b032c52a0","internal":{"content":"# Purpose\r\n\r\nShow the current status of the cluster caching facility (CF).  A few items about the global buffer pool are also shown here.\r\n\r\nThere are normally 2 CFs, the current primary and a peer.  It is possible, but not recommended, to run with a single CF. \r\n\r\nThe purpose of the peer CF is for high availability.  If the primary CF fails, then the peer can take over.  The “State” property tracks failover and other HA type events with values such as BECOMING_PRIMARY and CATCHUP.\r\n\r\nThe global buffer pool (GBP) is part of the CF, so a few metrics about it are shown here.  There is only one GBP even if two CFs have been configured.  So items for the GBP are shown in a separate section at the bottom.\r\n\r\nThis view is populated only if the monitored database is pureScale.  For non pureScale databases, dmctop opens a pop-up with the message \"Available only for pureScale\".\r\n\r\n\r\n# Screenshot\r\n![image](./images/cf_status.png)\r\n\r\n\r\n# Metric shown\r\n\r\nMetrics are presented in two columns, one for each CF.  The name of each CF is shown at the top of its column.  There is a small separate section at the bottom with two metrics for the global buffer pool.\r\n\r\n<hr />\r\n\r\n### Instance id\r\n\r\nThe instance ID is a member number, except that CF members are special purpose members that don’t show up in most of the monitoring.\r\n\r\n\r\n**Source:** [DB2_GET_INSTANCE_INFO](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)(NULL, NULL, NULL, NULL, NULL).[ID](https://www.ibm.com/docs/en/db2/11.5?topic=reference-i#r0056210)\r\n\r\n<hr />\r\n\r\n### Home host \r\n\r\nThe machine which was associated with the member when it was first added to the instance.\r\n\r\n**Source:** [DB2_GET_INSTANCE_INFO](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)(NULL, NULL, NULL, NULL, NULL).[HOME_HOST](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)\r\n\r\n<hr />\r\n\r\n### Current host\r\n\r\nThe machine name on which the member is currently running.\r\n\r\n**Source:** [DB2_GET_INSTANCE_INFO](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)(NULL, NULL, NULL, NULL, NULL).[CURRENT_HOST](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)\r\n\r\n\r\n<hr />\r\n\r\n### State \r\n\r\nThe state of the member or cluster caching facility. Normally one CF will be PRIMARY and one PEER.\r\n\r\nPossible values are\r\n\r\n* STOPPED\r\n* RESTARTING\r\n* BECOMING_PRIMARY\r\n* PRIMARY\r\n* CATCHUP1\r\n* PEER, ERROR\r\n* UNKNOWN\r\n\r\n**Source:** [DB2_GET_INSTANCE_INFO](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)(NULL, NULL, NULL, NULL, NULL).[STATE](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)\r\n\r\n## Cross invalidation \r\n\r\n<hr />\r\n\r\n### Requests / sec\r\n\r\nThe total number of requests in the CF for this command per second.\r\n\r\n```\r\nSELECT TOTAL_CF_REQUESTS\r\nFROM TABLE(MON_GET_CF_CMD(NULL)) \r\nWHERE CF_CMD_NAME = 'CrossInvalidate'\r\n```\r\n\r\n**Source:** \r\n\r\n[MON_GET_CF_CMD](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)(NULL).[TOTAL_CF_REQUESTS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)\r\n\r\n[MON_GET_CF_CMD](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)(NULL).[CF_CMD_NAME](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)\r\n\r\n\r\n## Average cross invalidation\r\n\r\n<hr />\r\n\r\n### Request time (us)\r\n\r\nThe average processing time in the CF per request for cross invalidation command. This should be less than 10 us, more than 20 us indicates a bottleneck.\r\n\r\n= TOTAL_CF_CMD_TIME_MICRO / TOTAL_CF_REQUESTS\r\n\r\n```\r\nSELECT TOTAL_CF_CMD_TIME_MICRO, TOTAL_CF_REQUESTS\r\nFROM TABLE(MON_GET_CF_CMD(NULL)) \r\nWHERE CF_CMD_NAME = 'CrossInvalidate'\r\n```\r\n\r\n**Source:**\r\n\r\n[MON_GET_CF_CMD](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)(NULL).[TOTAL_CF_CMD_TIME_MICRO](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)\r\n\r\n[MON_GET_CF_CMD](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)(NULL).[TOTAL_CF_REQUESTS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)\r\n\r\n[MON_GET_CF_CMD](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)(NULL).[CF_CMD_NAME](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)\r\n\r\n\r\n<hr />\r\n\r\n### Cpu usage % \r\n\r\nThe percentage of time the CF workers are busy doing work when the CF is bound to its own set of CPUs\r\n\r\n**Source:** [SYSIBMADM.ENV_CF_SYS_RESOURCES ](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-cf-sys-resources-get-cluster-caching-facility-system-resource-information).[CPU_USAGE_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-cf-sys-resources-get-cluster-caching-facility-system-resource-information)\r\n\r\n<hr />\r\n\r\n### Memory total (kb)\r\n\r\nThe total size of physical memory.\r\n\r\n**Source:** [SYSIBMADM.ENV_CF_SYS_RESOURCES ](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-cf-sys-resources-get-cluster-caching-facility-system-resource-information).[MEMORY_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-cf-sys-resources-get-cluster-caching-facility-system-resource-information)\r\n\r\n\r\n## Gbp performance\r\n\r\n<hr />\r\n\r\n### Gbp data hit ratio\r\n\r\nTimes a requested page was found in the group bufferpool.\r\n\r\n= 1 - POOL_DATA_GBP_P_READS / POOL_DATA_GBP_L_READS \r\n\r\n**Source:** \r\n\r\nPOOL_DATA_GBP_P_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL, NULL, #MEMBER#).[POOL_DATA_GBP_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0056486)\r\n\r\nPOOL_DATA_GBP_L_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL, NULL, #MEMBER#).[POOL_DATA_GBP_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0056485)\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Gbp full / 10k tx % \r\n\r\nIdeally, this is zero.  Up to about 5 is acceptable.  Higher values indicate possible configuration problems, including:\r\n\r\n* GBP configured too small\r\n* Too few castout engines configured\r\n* SOFTMAX set too high\r\n\r\n= NUM_GBP_FULL / TOTAL_APP_COMMITS \r\n\r\n**Source:** \r\n\r\nNUM_GBP_FULL = [MON_GET_GROUP_BUFFERPOOL](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-group-bufferpool-get-group-buffer-pool-metrics)(#MEMBER#).[NUM_GBP_FULL](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-group-bufferpool-get-group-buffer-pool-metrics)\r\n\r\n\r\nTOTAL_APP_COMMITS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL, NULL, #MEMBER#).[TOTAL_APP_COMMITS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0056527)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","type":"Mdx","contentDigest":"a016a5548a4e1c0f4873ebbba48bca67","owner":"gatsby-plugin-mdx","counter":165},"frontmatter":{"description":"IO / Cf Status","title":"IO / Cf Status"},"exports":{},"rawBody":"# Purpose\r\n\r\nShow the current status of the cluster caching facility (CF).  A few items about the global buffer pool are also shown here.\r\n\r\nThere are normally 2 CFs, the current primary and a peer.  It is possible, but not recommended, to run with a single CF. \r\n\r\nThe purpose of the peer CF is for high availability.  If the primary CF fails, then the peer can take over.  The “State” property tracks failover and other HA type events with values such as BECOMING_PRIMARY and CATCHUP.\r\n\r\nThe global buffer pool (GBP) is part of the CF, so a few metrics about it are shown here.  There is only one GBP even if two CFs have been configured.  So items for the GBP are shown in a separate section at the bottom.\r\n\r\nThis view is populated only if the monitored database is pureScale.  For non pureScale databases, dmctop opens a pop-up with the message \"Available only for pureScale\".\r\n\r\n\r\n# Screenshot\r\n![image](./images/cf_status.png)\r\n\r\n\r\n# Metric shown\r\n\r\nMetrics are presented in two columns, one for each CF.  The name of each CF is shown at the top of its column.  There is a small separate section at the bottom with two metrics for the global buffer pool.\r\n\r\n<hr />\r\n\r\n### Instance id\r\n\r\nThe instance ID is a member number, except that CF members are special purpose members that don’t show up in most of the monitoring.\r\n\r\n\r\n**Source:** [DB2_GET_INSTANCE_INFO](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)(NULL, NULL, NULL, NULL, NULL).[ID](https://www.ibm.com/docs/en/db2/11.5?topic=reference-i#r0056210)\r\n\r\n<hr />\r\n\r\n### Home host \r\n\r\nThe machine which was associated with the member when it was first added to the instance.\r\n\r\n**Source:** [DB2_GET_INSTANCE_INFO](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)(NULL, NULL, NULL, NULL, NULL).[HOME_HOST](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)\r\n\r\n<hr />\r\n\r\n### Current host\r\n\r\nThe machine name on which the member is currently running.\r\n\r\n**Source:** [DB2_GET_INSTANCE_INFO](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)(NULL, NULL, NULL, NULL, NULL).[CURRENT_HOST](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)\r\n\r\n\r\n<hr />\r\n\r\n### State \r\n\r\nThe state of the member or cluster caching facility. Normally one CF will be PRIMARY and one PEER.\r\n\r\nPossible values are\r\n\r\n* STOPPED\r\n* RESTARTING\r\n* BECOMING_PRIMARY\r\n* PRIMARY\r\n* CATCHUP1\r\n* PEER, ERROR\r\n* UNKNOWN\r\n\r\n**Source:** [DB2_GET_INSTANCE_INFO](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)(NULL, NULL, NULL, NULL, NULL).[STATE](https://www.ibm.com/docs/en/db2/11.5?topic=dpiirv-db2-member-db2-cf-administrative-views-db2-get-instance-info-table-function)\r\n\r\n## Cross invalidation \r\n\r\n<hr />\r\n\r\n### Requests / sec\r\n\r\nThe total number of requests in the CF for this command per second.\r\n\r\n```\r\nSELECT TOTAL_CF_REQUESTS\r\nFROM TABLE(MON_GET_CF_CMD(NULL)) \r\nWHERE CF_CMD_NAME = 'CrossInvalidate'\r\n```\r\n\r\n**Source:** \r\n\r\n[MON_GET_CF_CMD](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)(NULL).[TOTAL_CF_REQUESTS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)\r\n\r\n[MON_GET_CF_CMD](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)(NULL).[CF_CMD_NAME](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)\r\n\r\n\r\n## Average cross invalidation\r\n\r\n<hr />\r\n\r\n### Request time (us)\r\n\r\nThe average processing time in the CF per request for cross invalidation command. This should be less than 10 us, more than 20 us indicates a bottleneck.\r\n\r\n= TOTAL_CF_CMD_TIME_MICRO / TOTAL_CF_REQUESTS\r\n\r\n```\r\nSELECT TOTAL_CF_CMD_TIME_MICRO, TOTAL_CF_REQUESTS\r\nFROM TABLE(MON_GET_CF_CMD(NULL)) \r\nWHERE CF_CMD_NAME = 'CrossInvalidate'\r\n```\r\n\r\n**Source:**\r\n\r\n[MON_GET_CF_CMD](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)(NULL).[TOTAL_CF_CMD_TIME_MICRO](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)\r\n\r\n[MON_GET_CF_CMD](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)(NULL).[TOTAL_CF_REQUESTS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)\r\n\r\n[MON_GET_CF_CMD](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)(NULL).[CF_CMD_NAME](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-cf-cmd-get-processing-times-cluster-caching-facility-commands)\r\n\r\n\r\n<hr />\r\n\r\n### Cpu usage % \r\n\r\nThe percentage of time the CF workers are busy doing work when the CF is bound to its own set of CPUs\r\n\r\n**Source:** [SYSIBMADM.ENV_CF_SYS_RESOURCES ](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-cf-sys-resources-get-cluster-caching-facility-system-resource-information).[CPU_USAGE_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-cf-sys-resources-get-cluster-caching-facility-system-resource-information)\r\n\r\n<hr />\r\n\r\n### Memory total (kb)\r\n\r\nThe total size of physical memory.\r\n\r\n**Source:** [SYSIBMADM.ENV_CF_SYS_RESOURCES ](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-cf-sys-resources-get-cluster-caching-facility-system-resource-information).[MEMORY_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-cf-sys-resources-get-cluster-caching-facility-system-resource-information)\r\n\r\n\r\n## Gbp performance\r\n\r\n<hr />\r\n\r\n### Gbp data hit ratio\r\n\r\nTimes a requested page was found in the group bufferpool.\r\n\r\n= 1 - POOL_DATA_GBP_P_READS / POOL_DATA_GBP_L_READS \r\n\r\n**Source:** \r\n\r\nPOOL_DATA_GBP_P_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL, NULL, #MEMBER#).[POOL_DATA_GBP_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0056486)\r\n\r\nPOOL_DATA_GBP_L_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL, NULL, #MEMBER#).[POOL_DATA_GBP_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0056485)\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Gbp full / 10k tx % \r\n\r\nIdeally, this is zero.  Up to about 5 is acceptable.  Higher values indicate possible configuration problems, including:\r\n\r\n* GBP configured too small\r\n* Too few castout engines configured\r\n* SOFTMAX set too high\r\n\r\n= NUM_GBP_FULL / TOTAL_APP_COMMITS \r\n\r\n**Source:** \r\n\r\nNUM_GBP_FULL = [MON_GET_GROUP_BUFFERPOOL](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-group-bufferpool-get-group-buffer-pool-metrics)(#MEMBER#).[NUM_GBP_FULL](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-group-bufferpool-get-group-buffer-pool-metrics)\r\n\r\n\r\nTOTAL_APP_COMMITS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL, NULL, #MEMBER#).[TOTAL_APP_COMMITS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0056527)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","fileAbsolutePath":"C:/Users/0G6714649/Documents/dmctop/dmctop-wiki/src/pages/IO/cf_status.mdx"}}},
    "staticQueryHashes": ["1364590287","137577622","2102389209","2456312558","2746626797","3018647132","3037994772","768070550"]}