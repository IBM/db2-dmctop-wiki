{
    "componentChunkName": "component---src-pages-overview-db-overview-mdx",
    "path": "/Overview/db_overview/",
    "result": {"pageContext":{"frontmatter":{"description":"Overview / Db Overview","title":"Overview / Db Overview"},"relativePagePath":"/Overview/db_overview.mdx","titleType":"page","MdxNode":{"id":"f9641ff4-1407-5260-8a8a-c912723689e1","children":[],"parent":"183b807e-f020-5976-b91d-ef5de6fa21f8","internal":{"content":"# Purpose\r\nOverview view tells you at a glance how busy the monitored database is.  It provides basic information about the current level of activity.  For example:\r\n\r\n* **Overview**: Basic information of database.\r\n* **Resource consumption**: Indicators to show resource consumption of database such as the memory consumption.\r\n* **Throughput**: Indicators to show speed of database transaction operations.\r\n* **Contention**: Indicators of contention such as high lock wait time, lock escalations or deadlocks.\r\n* **Time spent**: Indicators of time spent on database operations.\r\n\r\n# Screenshot\r\n![image](./images/db_overview.png)\r\n\r\n# Metric shown\r\n\r\n## Gauge\r\n\r\n\r\n<hr />\r\n\r\n### Act session\r\n\r\nThe percentage of active connections.\r\n\r\n= ACTIVE_CONN / TOTAL_CONN \r\n\r\nTOTAL_CONN = \r\n\r\n```\r\n SELECT COUNT(*) AS TOTAL_CONN \r\n         FROM   AGENT_TAB\r\n```\r\n\r\nACTIVE_CONN =\r\n```\r\nSELECT COUNT(*) AS ACTIVE_CONN \r\n         FROM   AGENT_TAB \r\n         WHERE  EVENT_STATE='EXECUTING' \r\n         AND    EVENT_TYPE='PROCESS' \r\n         AND    IDLE_DURATION < 15\r\n```\r\n\r\n\r\n\r\nAGENT_TAB = \r\n```\r\nSELECT EVENT_STATE , \r\n                EVENT_TYPE , \r\n                CAST(((CAST(JULIAN_DAY(CURRENT TIMESTAMP) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM CURRENT TIMESTAMP) * 60 * 60 + EXTRACT(MINUTE FROM CURRENT TIMESTAMP) * 60 + EXTRACT(SECOND FROM CURRENT TIMESTAMP) - (CAST(JULIAN_DAY(AGENT_STATE_LAST_UPDATE_TIME) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 * 60 + EXTRACT(MINUTE FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 + EXTRACT(SECOND FROM AGENT_STATE_LAST_UPDATE_TIME)))) AS DOUBLE) AS IDLE_DURATION\r\n         FROM   TABLE(MON_GET_AGENT(NULL,NULL,NULL,#MEMBER#)) \r\n         WHERE  APPLICATION_HANDLE<>0 \r\n         AND    AGENT_STATE = 'ACTIVE' \r\n```\r\n\r\n\r\n\r\n\r\n**Source:**  \r\n\r\n[MON_GET_AGENT](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)(NULL,NULL,NULL,#MEMBER#).[AGENT_STATE_LAST_UPDATE_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)\r\n\r\n[CURRENT TIMESTAMP](https://www.ibm.com/docs/en/db2/11.5?topic=registers-current-timestamp)\r\n\r\n\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Log used\r\n\r\nThe percentage of amount of active log space currently used in the database. \r\n\r\n= TOTAL_LOG_USED / TOTAL_LOG\r\n\r\n\r\n**Source:** \r\n\r\nTOTAL_LOG_USED = [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([TOTAL_LOG_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002530))\r\n\r\nTOTAL_LOG= [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([TOTAL_LOG_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002530) + [TOTAL_LOG_AVAILABLE](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002531))\r\n## Overview\r\n\r\n<hr />\r\n\r\n### Start date\r\n\r\nThe date of the connection to the database (at the database level, this is the first connection to the database), or when the activate database was issued. \r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).MIN([DB_CONN_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001154))\r\n\r\n<hr />\r\n\r\n### Start time\r\n\r\nThe time the monitored database was activated.\r\n\r\n**Source:** [CURRENT TIMESTAMP](https://www.ibm.com/docs/en/db2/11.5?topic=registers-current-timestamp)\r\n\r\n\r\n<hr />\r\n\r\n### Database status\r\n\r\nThe current status of the database. According to the Knowledge Center, the possible values for this field are:\r\n\r\n- ACTIVE\r\n- QUIESCE_PEND\r\n- QUIESCED\r\n- ROLLFWD\r\n- ACTIVE_STANDBY\r\n- STANDBY\r\n\r\n\r\n\r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).MAX([DB_STATUS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001156))\r\n\r\n\r\n<hr />\r\n\r\n### System physical mem\r\n\r\nThe total amount of physical memory on this host\r\n\r\n**Source:** [SYSPROC.ENV_GET_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-system-resources-table-function-return-system-information)().[MEMORY_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=reference-m#r0060193)\r\n\r\n## Resource consumption\r\n\r\n<hr />\r\n\r\n### CPU usage %\r\n\r\nThe total cpu usage over the system.\r\n\r\n= System CPU utilization * DB2 CPU utilization\r\n\r\nSystem CPU utilization = (CPU_USER_TOTAL + CPU_SYSTEM_TOTAL)/(CPU_USER_TOTAL + CPU_SYSTEM_TOTAL + CPU_IDLE_TOTAL + CPU_IOWAIT_TOTAL)\r\n\r\nDB2 CPU utilization = (DB2_CPU_USER_TOTAL  + DB2_CPU_SYSTEM_TOTAL)/(CPU_USER_TOTAL + CPU_SYSTEM_TOTAL)\r\n\r\n**Source:** \r\n\r\nDB2_CPU_USER_TOTAL = [ENV_GET_DB2_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-db2-system-resources-return-database-system-information)(#MEMBER#).SUM([CPU_USER](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060207))\r\n\r\n\r\nDB2_CPU_SYSTEM_TOTAL = [ENV_GET_DB2_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-db2-system-resources-return-database-system-information)(#MEMBER#).SUM([CPU_SYSTEM](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060210))\r\n\r\nCPU_USER_TOTAL = [SYSPROC.ENV_GET_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-system-resources-table-function-return-system-information)().[CPU_USER](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060207)\r\n\r\n\r\nCPU_SYSTEM_TOTAL = [SYSPROC.ENV_GET_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-system-resources-table-function-return-system-information)().[CPU_SYSTEM](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060210)\r\n\r\n\r\nCPU_IDLE_TOTAL = [SYSPROC.ENV_GET_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-system-resources-table-function-return-system-information)().[CPU_IDLE](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060208)\r\n\r\n\r\nCPU_IOWAIT_TOTAL = [SYSPROC.ENV_GET_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-system-resources-table-function-return-system-information)().[CPU_IOWAIT](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060209)\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Instance mem committed\r\n\r\nMemory committed, as opposed to used, is a better measure of the memory footprint of DB2.  That is, how much memory is committed by the OS for use by DB2 and hence unavailable for other processes.\r\n\r\n**Source:** [MON_GET_MEMORY_SET](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-memory-set-get-memory-set-information)('DBMS', [CURRENT_SERVER](https://www.ibm.com/docs/en/db2-for-zos/11?topic=registers-current-server), #MEMBER#).SUM([MEMORY_SET_COMMITTED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-m#r0059448))\r\n\r\n\r\n<hr />\r\n\r\n### Database mem committed\r\n\r\nThe portion of memory committed for just this database, as opposed to the whole instance.\r\n\r\n**Source:** [MON_GET_MEMORY_SET](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-memory-set-get-memory-set-information)('DATABASE', [CURRENT_SERVER](https://www.ibm.com/docs/en/db2-for-zos/11?topic=registers-current-server), #MEMBER#).SUM([MEMORY_SET_COMMITTED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-m#r0059448))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Bufferpool memory used\r\n\r\nBuffer pool memory is typically the largest component of memory usage by DB2.  So it is broken out separately here.\r\n\r\n**Source:** [MON_GET_MEMORY_POOL](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-memory-pool-get-memory-pool-information)('DATABASE',NULL, #MEMBER#).SUM([MEMORY_POOL_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-m#r0059534)) WHERE  MEMORY_POOL_TYPE='BP'\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Shared sort memory used\r\n\r\nShared sort memory committed in use by this memory pool\r\n\r\n**Source:** [MON_GET_MEMORY_POOL](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-memory-pool-get-memory-pool-information)('DATABASE',NULL, #MEMBER#).SUM([MEMORY_POOL_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-m#r0059534)) WHERE  MEMORY_POOL_TYPE='SHARED_SORT'\r\n\r\n\r\n<hr />\r\n\r\n### Storage usage %\r\n\r\nThe percentage of space used on a file system pointed to by a storage path or container.\r\n\r\n= FS_USED_SIZE / FS_TOTAL_SIZE\r\n\r\n**Source:** \r\n\r\nFS_USED_SIZE = [MON_GET_CONTAINER](https://www.ibm.com/docs/en/db2woc?topic=mpf-mon-get-container-get-table-space-container-metrics)('', #MEMBER#).[FS_USED_SIZE](https://www.ibm.com/docs/en/db2woc?topic=reference-f#r0022295)\r\n\r\nFS_TOTAL_SIZE = [MON_GET_CONTAINER](https://www.ibm.com/docs/en/db2woc?topic=mpf-mon-get-container-get-table-space-container-metrics)('', #MEMBER#).[FS_TOTAL_SIZE ](https://www.ibm.com/docs/en/db2woc?topic=reference-f#r0022296)\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Log usage %\r\n\r\nThe percentage of amount of active log space currently used in the database. \r\n\r\n= TOTAL_LOG_USED / TOTAL_LOG\r\n\r\n\r\n**Source:** \r\n\r\nTOTAL_LOG_USED = [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([TOTAL_LOG_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002530))\r\n\r\nTOTAL_LOG= [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([TOTAL_LOG_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002530) + [TOTAL_LOG_AVAILABLE](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002531))\r\n\r\n\r\n\r\n* Log used\r\n\r\nThe  amount of active log space currently used in the database. \r\n\r\n**Source:** TOTAL_LOG_USED = [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([TOTAL_LOG_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002530))\r\n\r\n## Throughput\r\n\r\n<hr />\r\n\r\n### Transactions\r\n\r\nThe total number of commit and rollback statements issued by the client application.\r\n\r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([TOTAL_APP_COMMITS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0056527) + [TOTAL_APP_ROLLBACKS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0056528))\r\n\r\n\r\n<hr />\r\n\r\n### Select stmts\r\n\r\nThe number of SQL SELECT statements that were executed. \r\n\r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([SELECT_SQL_STMTS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-s#r0001334))\r\n\r\n\r\n<hr />\r\n\r\n### Uid stmts\r\n\r\nThe number of UPDATE, INSERT, MERGE and DELETE statements that were executed. \r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([UID_SQL_STMTS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-u#r0001335))\r\n\r\n\r\n<hr />\r\n\r\n### Activities aborted\r\n\r\nThe total number of coordinator activities that completed with errors.\r\n\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([ACT_ABORTED_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=reference-#r0054006))\r\n\r\n\r\n<hr />\r\n\r\n### Activities queued\r\n\r\nThe number of times that activities or connections have been queued by a WLM threshold.\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([WLM_QUEUE_ASSIGNMENTS_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=reference-w#r0054062))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Read efficiency\r\n\r\nThe percentage of the number of rows that have been read after they are selected and returned to the application.\r\n\r\n= ROWS_READ/ROWS_RETURNED\r\n\r\n**Source:** \r\n\r\nROWS_READ = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([ROWS_READ](https://www.ibm.com/docs/en/db2/11.5?topic=reference-r#r0001317))\r\n\r\nROWS_RETURNED = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([ROWS_RETURNED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-r#r0051569))\r\n\r\n\r\n<hr />\r\n\r\n### Log reads\r\n\r\nThe number of log pages read from disk by the logger. \r\n\r\n**Source:** [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([LOG_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001278))\r\n\r\n\r\n<hr />\r\n\r\n### Log writes\r\n\r\nThe number of log pages written to disk by the logger. \r\n\r\n**Source:** [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([LOG_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001279))\r\n\r\n\r\n<hr />\r\n\r\n### Logical reads\r\n\r\nIndicates the number of data, index, and column-organized pages which have been requested  from the buffer pool (logical) for regular, large and temporary table spaces.\r\n\r\n**Source:**  [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001235) + [POOL_INDEX_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001238) + [POOL_XDA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022731) + [POOL_TEMP_DATA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011302) + [POOL_TEMP_INDEX_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011303) + [POOL_TEMP_XDA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022738) + [POOL_COL_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060763) + [POOL_TEMP_COL_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060873))\r\n\r\n\r\n<hr />\r\n\r\n### Physical reads\r\n\r\nIndicates the number of data, index, and column-organized pages which have been requested from the table space containers (physical) for regular, large and temporary table spaces.\r\n\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001236) + [POOL_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001239) + [POOL_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022730) + [POOL_TEMP_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011300) + [POOL_TEMP_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011301) + [POOL_TEMP_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022739) + [POOL_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060858) + [POOL_TEMP_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060874))\r\n\r\n\r\n<hr />\r\n\r\n### Async reads\r\n\r\nIndicates the number of data, index, and column-organized pages which have been requested from the table space containers (physical) for  all types of table spaces\r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([POOL_ASYNC_DATA_READS](https://www.ibm.com/docs/en/SSEPGG_11.5.0/com.ibm.db2.luw.admin.mon.doc/doc/monitor-elements-p.html#r0001244) + [POOL_ASYNC_INDEX_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001247) + [POOL_ASYNC_XDA_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022733) + [POOL_ASYNC_COL_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060851))\r\n\r\n\r\n<hr />\r\n\r\n### Writes\r\n\r\nThe number of write operations that do not use the buffer pool. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001261))\r\n\r\n\r\n<hr />\r\n\r\n### Async writes\r\n\r\nThe number of times a buffer pool data, index, and column-organized pages was physically written to disk by either an asynchronous page cleaner, or a prefetcher. A prefetcher might have written dirty pages to disk to make space for the pages being prefetched. \r\n\r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([POOL_ASYNC_DATA_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001245) + [POOL_ASYNC_INDEX_WRITES](POOL_ASYNC_INDEX_WRITES) + [POOL_ASYNC_XDA_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022734) + [POOL_ASYNC_COL_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060893))\r\n\r\n## Contention\r\n\r\n\r\n<hr />\r\n\r\n### Connections\r\n\r\nThe number of active agents.\r\n\r\n= \r\n\r\n```\r\n SELECT COUNT(*) AS TOTAL_CONN \r\n         FROM   AGENT_TAB\r\n```\r\n\r\nAGENT_TAB = \r\n```\r\nSELECT EVENT_STATE , \r\n                EVENT_TYPE , \r\n                CAST(((CAST(JULIAN_DAY(CURRENT TIMESTAMP) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM CURRENT TIMESTAMP) * 60 * 60 + EXTRACT(MINUTE FROM CURRENT TIMESTAMP) * 60 + EXTRACT(SECOND FROM CURRENT TIMESTAMP) - (CAST(JULIAN_DAY(AGENT_STATE_LAST_UPDATE_TIME) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 * 60 + EXTRACT(MINUTE FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 + EXTRACT(SECOND FROM AGENT_STATE_LAST_UPDATE_TIME)))) AS DOUBLE) AS IDLE_DURATION\r\n         FROM   TABLE(MON_GET_AGENT(NULL,NULL,NULL,#MEMBER#)) \r\n         WHERE  APPLICATION_HANDLE<>0 \r\n         AND    AGENT_STATE = 'ACTIVE' \r\n```\r\n\r\n\r\n\r\n\r\n**Source:**  \r\n\r\n[MON_GET_AGENT](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)(NULL,NULL,NULL,#MEMBER#).[AGENT_STATE_LAST_UPDATE_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)\r\n\r\n[CURRENT TIMESTAMP](https://www.ibm.com/docs/en/db2/11.5?topic=registers-current-timestamp)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Active connections\r\n\r\nThe number of active connections.\r\n\r\n\r\n=\r\n```\r\nSELECT COUNT(*) AS ACTIVE_CONN \r\n         FROM   AGENT_TAB \r\n         WHERE  EVENT_STATE='EXECUTING' \r\n         AND    EVENT_TYPE='PROCESS' \r\n         AND    IDLE_DURATION < 15\r\n```\r\n\r\nAGENT_TAB = \r\n```\r\nSELECT EVENT_STATE , \r\n                EVENT_TYPE , \r\n                CAST(((CAST(JULIAN_DAY(CURRENT TIMESTAMP) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM CURRENT TIMESTAMP) * 60 * 60 + EXTRACT(MINUTE FROM CURRENT TIMESTAMP) * 60 + EXTRACT(SECOND FROM CURRENT TIMESTAMP) - (CAST(JULIAN_DAY(AGENT_STATE_LAST_UPDATE_TIME) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 * 60 + EXTRACT(MINUTE FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 + EXTRACT(SECOND FROM AGENT_STATE_LAST_UPDATE_TIME)))) AS DOUBLE) AS IDLE_DURATION\r\n         FROM   TABLE(MON_GET_AGENT(NULL,NULL,NULL,#MEMBER#)) \r\n         WHERE  APPLICATION_HANDLE<>0 \r\n         AND    AGENT_STATE = 'ACTIVE' \r\n```\r\n\r\n\r\n**Source:**  \r\n\r\n[MON_GET_AGENT](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)(NULL,NULL,NULL,#MEMBER#).[AGENT_STATE_LAST_UPDATE_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)\r\n\r\n[CURRENT TIMESTAMP](https://www.ibm.com/docs/en/db2/11.5?topic=registers-current-timestamp)\r\n\r\n\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Lock held\r\n\r\nThe number of locks currently held. \r\n\r\n**Source:**  [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([NUM_LOCKS_HELD](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001281))\r\n\r\n\r\n<hr />\r\n\r\n### Lock waits\r\n\r\nThe total number of times applications or connections waited for locks. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([LOCK_WAITS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001293))\r\n\r\n\r\n<hr />\r\n\r\n### Lock timeouts\r\n\r\nThe number of times that a request to lock an object timed out instead of being granted. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([LOCK_TIMEOUTS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001290))\r\n\r\n\r\n<hr />\r\n\r\n### Lock escalations\r\n\r\nThe number of times that locks have been escalated from several row locks to a table lock. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([LOCK_ESCALS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001284))\r\n\r\n\r\n<hr />\r\n\r\n### Deadlocks\r\n\r\nThe total number of deadlocks that have occurred. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DEADLOCKS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001283))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Threshold violations\r\n\r\nThe total number of times a threshold was violated. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([THRESH_VIOLATIONS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0056501))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Hit ratio\r\n\r\nThe ratio of the number of pages which have been requested  from the buffer pool (logical) to pages from the table space containers (physical) for regular, large and temporary table spaces.\r\n\r\n= (PHYSICAL_READS + DIRECT_READS) / (LOGICAL_READS + DIRECT_READS)\r\n\r\n\r\n\r\n**Source:**\r\n\r\nLOGICAL_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0056501) + [POOL_INDEX_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001238) + [POOL_XDA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022731) + [POOL_TEMP_DATA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011302) + [POOL_TEMP_INDEX_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011303) + [POOL_TEMP_XDA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022738) + [POOL_COL_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060763) + [POOL_TEMP_COL_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060873))\r\n\r\nPHYSICAL_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001236) + [POOL_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001239) + [POOL_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022730) + [POOL_TEMP_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011300) + [POOL_TEMP_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011301) + [POOL_TEMP_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022739) + [POOL_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060858) + [POOL_TEMP_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060874))\r\n\r\nDIRECT_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001260))\r\n\r\n\r\n\r\n\r\n\r\n## Timespent\r\n\r\n<hr />\r\n\r\n### Avg p read time\r\n\r\nThe average time for a page requested from the table space containers (physical) for all types of table spaces.\r\n\r\n= POOL_READ_TIME / PHYSICAL_READS\r\n\r\n\r\n**Source:** \r\n\r\nPOOL_READ_TIME = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_READ_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001241))\r\n\r\nPHYSICAL_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001236) + [POOL_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001239) + [POOL_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022730) + [POOL_TEMP_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011300) + [POOL_TEMP_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011301) + [POOL_TEMP_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022739) + [POOL_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060858) + [POOL_TEMP_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060874))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Avg d read time\r\n\r\nThe average time required to perform the direct reads.\r\n\r\n= DIRECT_READ_TIME / DIRECT_READS \r\n\r\n**Source:** \r\n\r\nDIRECT_READ_TIME = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_READ_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001264))\r\n\r\n\r\nDIRECT_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001260))\r\n\r\n\r\n<hr />\r\n\r\n### Sorts\r\n\r\nThe total number of sorts that have been executed. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([TOTAL_SORTS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0001219))\r\n\r\n\r\n<hr />\r\n\r\n### Sort overflows\r\n\r\nThe total number of sorts that ran out of sort heap and may have required disk space for temporary storage. \r\n\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([SORT_OVERFLOWS](https://www.ibm.com/docs/en/SSEPGG_11.5.0/com.ibm.db2.luw.admin.mon.doc/doc/monitor-elements-s.html#r0001221))\r\n\r\n\r\n<hr />\r\n\r\n### Hash joins\r\n\r\nThe total number of hash joins executed. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([TOTAL_HASH_JOINS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002283))\r\n\r\n\r\n<hr />\r\n\r\n### Hash join overflows\r\n\r\nThe number of times that hash join data exceeded the available sort heap space. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([HASH_JOIN_OVERFLOWS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-h#r0002286))\r\n\r\n\r\n<hr />\r\n\r\n### Hash grpbys\r\n\r\nThe total number of hashed GROUP BY operations.\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([TOTAL_HASH_GRPBYS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0061038))\r\n\r\n\r\n<hr />\r\n\r\n### Hash grpb overflows\r\n\r\nThe number of times that GROUP BY operations using hashing as their grouping method exceeded the available sort heap memory.\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([HASH_GRPBY_OVERFLOWS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-h#r0061039))\r\n\r\n\r\n<hr />\r\n\r\n### Avg p write time\r\n\r\nThe average time for an asynchronous write to complete.\r\n\r\n\r\n= POOL_WRITE_TIME / WRITES \r\n\r\n**Source:** \r\n\r\nPOOL_WRITE_TIME = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_WRITE_TIME](https://www.ibm.com/docs/en/SSEPGG_11.5.0/com.ibm.db2.luw.admin.mon.doc/doc/monitor-elements-p.html#r0001242))\r\n\r\nWRITES = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001237) + [POOL_INDEX_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001240) + [POOL_XDA_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022732))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Avg d write time\r\n\r\nThe average time required to perform a direct write. \r\n\r\n= DIRECT_WRITE_TIME / DIRECT_WRITES \r\n\r\n**Source:** \r\n\r\nDIRECT_WRITE_TIME = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_WRITE_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001265))\r\n\r\nDIRECT_WRITES = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001261))\r\n\r\n\r\n<hr />\r\n\r\n### Pct time queued\r\n\r\nThe time spent waiting on a WLM queuing threshold. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([WLM_QUEUE_TIME_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=reference-w#r0054063))\r\n\r\n\r\n","type":"Mdx","contentDigest":"debed9414684ca931142b18f1e410b2f","owner":"gatsby-plugin-mdx","counter":171},"frontmatter":{"description":"Overview / Db Overview","title":"Overview / Db Overview"},"exports":{},"rawBody":"# Purpose\r\nOverview view tells you at a glance how busy the monitored database is.  It provides basic information about the current level of activity.  For example:\r\n\r\n* **Overview**: Basic information of database.\r\n* **Resource consumption**: Indicators to show resource consumption of database such as the memory consumption.\r\n* **Throughput**: Indicators to show speed of database transaction operations.\r\n* **Contention**: Indicators of contention such as high lock wait time, lock escalations or deadlocks.\r\n* **Time spent**: Indicators of time spent on database operations.\r\n\r\n# Screenshot\r\n![image](./images/db_overview.png)\r\n\r\n# Metric shown\r\n\r\n## Gauge\r\n\r\n\r\n<hr />\r\n\r\n### Act session\r\n\r\nThe percentage of active connections.\r\n\r\n= ACTIVE_CONN / TOTAL_CONN \r\n\r\nTOTAL_CONN = \r\n\r\n```\r\n SELECT COUNT(*) AS TOTAL_CONN \r\n         FROM   AGENT_TAB\r\n```\r\n\r\nACTIVE_CONN =\r\n```\r\nSELECT COUNT(*) AS ACTIVE_CONN \r\n         FROM   AGENT_TAB \r\n         WHERE  EVENT_STATE='EXECUTING' \r\n         AND    EVENT_TYPE='PROCESS' \r\n         AND    IDLE_DURATION < 15\r\n```\r\n\r\n\r\n\r\nAGENT_TAB = \r\n```\r\nSELECT EVENT_STATE , \r\n                EVENT_TYPE , \r\n                CAST(((CAST(JULIAN_DAY(CURRENT TIMESTAMP) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM CURRENT TIMESTAMP) * 60 * 60 + EXTRACT(MINUTE FROM CURRENT TIMESTAMP) * 60 + EXTRACT(SECOND FROM CURRENT TIMESTAMP) - (CAST(JULIAN_DAY(AGENT_STATE_LAST_UPDATE_TIME) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 * 60 + EXTRACT(MINUTE FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 + EXTRACT(SECOND FROM AGENT_STATE_LAST_UPDATE_TIME)))) AS DOUBLE) AS IDLE_DURATION\r\n         FROM   TABLE(MON_GET_AGENT(NULL,NULL,NULL,#MEMBER#)) \r\n         WHERE  APPLICATION_HANDLE<>0 \r\n         AND    AGENT_STATE = 'ACTIVE' \r\n```\r\n\r\n\r\n\r\n\r\n**Source:**  \r\n\r\n[MON_GET_AGENT](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)(NULL,NULL,NULL,#MEMBER#).[AGENT_STATE_LAST_UPDATE_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)\r\n\r\n[CURRENT TIMESTAMP](https://www.ibm.com/docs/en/db2/11.5?topic=registers-current-timestamp)\r\n\r\n\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Log used\r\n\r\nThe percentage of amount of active log space currently used in the database. \r\n\r\n= TOTAL_LOG_USED / TOTAL_LOG\r\n\r\n\r\n**Source:** \r\n\r\nTOTAL_LOG_USED = [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([TOTAL_LOG_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002530))\r\n\r\nTOTAL_LOG= [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([TOTAL_LOG_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002530) + [TOTAL_LOG_AVAILABLE](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002531))\r\n## Overview\r\n\r\n<hr />\r\n\r\n### Start date\r\n\r\nThe date of the connection to the database (at the database level, this is the first connection to the database), or when the activate database was issued. \r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).MIN([DB_CONN_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001154))\r\n\r\n<hr />\r\n\r\n### Start time\r\n\r\nThe time the monitored database was activated.\r\n\r\n**Source:** [CURRENT TIMESTAMP](https://www.ibm.com/docs/en/db2/11.5?topic=registers-current-timestamp)\r\n\r\n\r\n<hr />\r\n\r\n### Database status\r\n\r\nThe current status of the database. According to the Knowledge Center, the possible values for this field are:\r\n\r\n- ACTIVE\r\n- QUIESCE_PEND\r\n- QUIESCED\r\n- ROLLFWD\r\n- ACTIVE_STANDBY\r\n- STANDBY\r\n\r\n\r\n\r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).MAX([DB_STATUS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001156))\r\n\r\n\r\n<hr />\r\n\r\n### System physical mem\r\n\r\nThe total amount of physical memory on this host\r\n\r\n**Source:** [SYSPROC.ENV_GET_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-system-resources-table-function-return-system-information)().[MEMORY_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=reference-m#r0060193)\r\n\r\n## Resource consumption\r\n\r\n<hr />\r\n\r\n### CPU usage %\r\n\r\nThe total cpu usage over the system.\r\n\r\n= System CPU utilization * DB2 CPU utilization\r\n\r\nSystem CPU utilization = (CPU_USER_TOTAL + CPU_SYSTEM_TOTAL)/(CPU_USER_TOTAL + CPU_SYSTEM_TOTAL + CPU_IDLE_TOTAL + CPU_IOWAIT_TOTAL)\r\n\r\nDB2 CPU utilization = (DB2_CPU_USER_TOTAL  + DB2_CPU_SYSTEM_TOTAL)/(CPU_USER_TOTAL + CPU_SYSTEM_TOTAL)\r\n\r\n**Source:** \r\n\r\nDB2_CPU_USER_TOTAL = [ENV_GET_DB2_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-db2-system-resources-return-database-system-information)(#MEMBER#).SUM([CPU_USER](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060207))\r\n\r\n\r\nDB2_CPU_SYSTEM_TOTAL = [ENV_GET_DB2_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-db2-system-resources-return-database-system-information)(#MEMBER#).SUM([CPU_SYSTEM](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060210))\r\n\r\nCPU_USER_TOTAL = [SYSPROC.ENV_GET_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-system-resources-table-function-return-system-information)().[CPU_USER](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060207)\r\n\r\n\r\nCPU_SYSTEM_TOTAL = [SYSPROC.ENV_GET_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-system-resources-table-function-return-system-information)().[CPU_SYSTEM](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060210)\r\n\r\n\r\nCPU_IDLE_TOTAL = [SYSPROC.ENV_GET_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-system-resources-table-function-return-system-information)().[CPU_IDLE](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060208)\r\n\r\n\r\nCPU_IOWAIT_TOTAL = [SYSPROC.ENV_GET_SYSTEM_RESOURCES](https://www.ibm.com/docs/en/db2/11.5?topic=erv-env-get-system-resources-table-function-return-system-information)().[CPU_IOWAIT](https://www.ibm.com/docs/en/db2/11.5?topic=reference-c#r0060209)\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Instance mem committed\r\n\r\nMemory committed, as opposed to used, is a better measure of the memory footprint of DB2.  That is, how much memory is committed by the OS for use by DB2 and hence unavailable for other processes.\r\n\r\n**Source:** [MON_GET_MEMORY_SET](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-memory-set-get-memory-set-information)('DBMS', [CURRENT_SERVER](https://www.ibm.com/docs/en/db2-for-zos/11?topic=registers-current-server), #MEMBER#).SUM([MEMORY_SET_COMMITTED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-m#r0059448))\r\n\r\n\r\n<hr />\r\n\r\n### Database mem committed\r\n\r\nThe portion of memory committed for just this database, as opposed to the whole instance.\r\n\r\n**Source:** [MON_GET_MEMORY_SET](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-memory-set-get-memory-set-information)('DATABASE', [CURRENT_SERVER](https://www.ibm.com/docs/en/db2-for-zos/11?topic=registers-current-server), #MEMBER#).SUM([MEMORY_SET_COMMITTED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-m#r0059448))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Bufferpool memory used\r\n\r\nBuffer pool memory is typically the largest component of memory usage by DB2.  So it is broken out separately here.\r\n\r\n**Source:** [MON_GET_MEMORY_POOL](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-memory-pool-get-memory-pool-information)('DATABASE',NULL, #MEMBER#).SUM([MEMORY_POOL_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-m#r0059534)) WHERE  MEMORY_POOL_TYPE='BP'\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Shared sort memory used\r\n\r\nShared sort memory committed in use by this memory pool\r\n\r\n**Source:** [MON_GET_MEMORY_POOL](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-memory-pool-get-memory-pool-information)('DATABASE',NULL, #MEMBER#).SUM([MEMORY_POOL_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-m#r0059534)) WHERE  MEMORY_POOL_TYPE='SHARED_SORT'\r\n\r\n\r\n<hr />\r\n\r\n### Storage usage %\r\n\r\nThe percentage of space used on a file system pointed to by a storage path or container.\r\n\r\n= FS_USED_SIZE / FS_TOTAL_SIZE\r\n\r\n**Source:** \r\n\r\nFS_USED_SIZE = [MON_GET_CONTAINER](https://www.ibm.com/docs/en/db2woc?topic=mpf-mon-get-container-get-table-space-container-metrics)('', #MEMBER#).[FS_USED_SIZE](https://www.ibm.com/docs/en/db2woc?topic=reference-f#r0022295)\r\n\r\nFS_TOTAL_SIZE = [MON_GET_CONTAINER](https://www.ibm.com/docs/en/db2woc?topic=mpf-mon-get-container-get-table-space-container-metrics)('', #MEMBER#).[FS_TOTAL_SIZE ](https://www.ibm.com/docs/en/db2woc?topic=reference-f#r0022296)\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Log usage %\r\n\r\nThe percentage of amount of active log space currently used in the database. \r\n\r\n= TOTAL_LOG_USED / TOTAL_LOG\r\n\r\n\r\n**Source:** \r\n\r\nTOTAL_LOG_USED = [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([TOTAL_LOG_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002530))\r\n\r\nTOTAL_LOG= [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([TOTAL_LOG_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002530) + [TOTAL_LOG_AVAILABLE](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002531))\r\n\r\n\r\n\r\n* Log used\r\n\r\nThe  amount of active log space currently used in the database. \r\n\r\n**Source:** TOTAL_LOG_USED = [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([TOTAL_LOG_USED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002530))\r\n\r\n## Throughput\r\n\r\n<hr />\r\n\r\n### Transactions\r\n\r\nThe total number of commit and rollback statements issued by the client application.\r\n\r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([TOTAL_APP_COMMITS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0056527) + [TOTAL_APP_ROLLBACKS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0056528))\r\n\r\n\r\n<hr />\r\n\r\n### Select stmts\r\n\r\nThe number of SQL SELECT statements that were executed. \r\n\r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([SELECT_SQL_STMTS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-s#r0001334))\r\n\r\n\r\n<hr />\r\n\r\n### Uid stmts\r\n\r\nThe number of UPDATE, INSERT, MERGE and DELETE statements that were executed. \r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([UID_SQL_STMTS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-u#r0001335))\r\n\r\n\r\n<hr />\r\n\r\n### Activities aborted\r\n\r\nThe total number of coordinator activities that completed with errors.\r\n\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([ACT_ABORTED_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=reference-#r0054006))\r\n\r\n\r\n<hr />\r\n\r\n### Activities queued\r\n\r\nThe number of times that activities or connections have been queued by a WLM threshold.\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([WLM_QUEUE_ASSIGNMENTS_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=reference-w#r0054062))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Read efficiency\r\n\r\nThe percentage of the number of rows that have been read after they are selected and returned to the application.\r\n\r\n= ROWS_READ/ROWS_RETURNED\r\n\r\n**Source:** \r\n\r\nROWS_READ = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([ROWS_READ](https://www.ibm.com/docs/en/db2/11.5?topic=reference-r#r0001317))\r\n\r\nROWS_RETURNED = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([ROWS_RETURNED](https://www.ibm.com/docs/en/db2/11.5?topic=reference-r#r0051569))\r\n\r\n\r\n<hr />\r\n\r\n### Log reads\r\n\r\nThe number of log pages read from disk by the logger. \r\n\r\n**Source:** [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([LOG_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001278))\r\n\r\n\r\n<hr />\r\n\r\n### Log writes\r\n\r\nThe number of log pages written to disk by the logger. \r\n\r\n**Source:** [MON_GET_TRANSACTION_LOG](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-transaction-log-table-function-get-log-information)(#MEMBER#).SUM([LOG_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001279))\r\n\r\n\r\n<hr />\r\n\r\n### Logical reads\r\n\r\nIndicates the number of data, index, and column-organized pages which have been requested  from the buffer pool (logical) for regular, large and temporary table spaces.\r\n\r\n**Source:**  [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001235) + [POOL_INDEX_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001238) + [POOL_XDA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022731) + [POOL_TEMP_DATA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011302) + [POOL_TEMP_INDEX_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011303) + [POOL_TEMP_XDA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022738) + [POOL_COL_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060763) + [POOL_TEMP_COL_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060873))\r\n\r\n\r\n<hr />\r\n\r\n### Physical reads\r\n\r\nIndicates the number of data, index, and column-organized pages which have been requested from the table space containers (physical) for regular, large and temporary table spaces.\r\n\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001236) + [POOL_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001239) + [POOL_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022730) + [POOL_TEMP_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011300) + [POOL_TEMP_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011301) + [POOL_TEMP_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022739) + [POOL_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060858) + [POOL_TEMP_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060874))\r\n\r\n\r\n<hr />\r\n\r\n### Async reads\r\n\r\nIndicates the number of data, index, and column-organized pages which have been requested from the table space containers (physical) for  all types of table spaces\r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([POOL_ASYNC_DATA_READS](https://www.ibm.com/docs/en/SSEPGG_11.5.0/com.ibm.db2.luw.admin.mon.doc/doc/monitor-elements-p.html#r0001244) + [POOL_ASYNC_INDEX_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001247) + [POOL_ASYNC_XDA_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022733) + [POOL_ASYNC_COL_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060851))\r\n\r\n\r\n<hr />\r\n\r\n### Writes\r\n\r\nThe number of write operations that do not use the buffer pool. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001261))\r\n\r\n\r\n<hr />\r\n\r\n### Async writes\r\n\r\nThe number of times a buffer pool data, index, and column-organized pages was physically written to disk by either an asynchronous page cleaner, or a prefetcher. A prefetcher might have written dirty pages to disk to make space for the pages being prefetched. \r\n\r\n\r\n**Source:** [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([POOL_ASYNC_DATA_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001245) + [POOL_ASYNC_INDEX_WRITES](POOL_ASYNC_INDEX_WRITES) + [POOL_ASYNC_XDA_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022734) + [POOL_ASYNC_COL_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060893))\r\n\r\n## Contention\r\n\r\n\r\n<hr />\r\n\r\n### Connections\r\n\r\nThe number of active agents.\r\n\r\n= \r\n\r\n```\r\n SELECT COUNT(*) AS TOTAL_CONN \r\n         FROM   AGENT_TAB\r\n```\r\n\r\nAGENT_TAB = \r\n```\r\nSELECT EVENT_STATE , \r\n                EVENT_TYPE , \r\n                CAST(((CAST(JULIAN_DAY(CURRENT TIMESTAMP) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM CURRENT TIMESTAMP) * 60 * 60 + EXTRACT(MINUTE FROM CURRENT TIMESTAMP) * 60 + EXTRACT(SECOND FROM CURRENT TIMESTAMP) - (CAST(JULIAN_DAY(AGENT_STATE_LAST_UPDATE_TIME) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 * 60 + EXTRACT(MINUTE FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 + EXTRACT(SECOND FROM AGENT_STATE_LAST_UPDATE_TIME)))) AS DOUBLE) AS IDLE_DURATION\r\n         FROM   TABLE(MON_GET_AGENT(NULL,NULL,NULL,#MEMBER#)) \r\n         WHERE  APPLICATION_HANDLE<>0 \r\n         AND    AGENT_STATE = 'ACTIVE' \r\n```\r\n\r\n\r\n\r\n\r\n**Source:**  \r\n\r\n[MON_GET_AGENT](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)(NULL,NULL,NULL,#MEMBER#).[AGENT_STATE_LAST_UPDATE_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)\r\n\r\n[CURRENT TIMESTAMP](https://www.ibm.com/docs/en/db2/11.5?topic=registers-current-timestamp)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Active connections\r\n\r\nThe number of active connections.\r\n\r\n\r\n=\r\n```\r\nSELECT COUNT(*) AS ACTIVE_CONN \r\n         FROM   AGENT_TAB \r\n         WHERE  EVENT_STATE='EXECUTING' \r\n         AND    EVENT_TYPE='PROCESS' \r\n         AND    IDLE_DURATION < 15\r\n```\r\n\r\nAGENT_TAB = \r\n```\r\nSELECT EVENT_STATE , \r\n                EVENT_TYPE , \r\n                CAST(((CAST(JULIAN_DAY(CURRENT TIMESTAMP) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM CURRENT TIMESTAMP) * 60 * 60 + EXTRACT(MINUTE FROM CURRENT TIMESTAMP) * 60 + EXTRACT(SECOND FROM CURRENT TIMESTAMP) - (CAST(JULIAN_DAY(AGENT_STATE_LAST_UPDATE_TIME) AS DECFLOAT(34)) * 86400 + EXTRACT(HOUR FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 * 60 + EXTRACT(MINUTE FROM AGENT_STATE_LAST_UPDATE_TIME) * 60 + EXTRACT(SECOND FROM AGENT_STATE_LAST_UPDATE_TIME)))) AS DOUBLE) AS IDLE_DURATION\r\n         FROM   TABLE(MON_GET_AGENT(NULL,NULL,NULL,#MEMBER#)) \r\n         WHERE  APPLICATION_HANDLE<>0 \r\n         AND    AGENT_STATE = 'ACTIVE' \r\n```\r\n\r\n\r\n**Source:**  \r\n\r\n[MON_GET_AGENT](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)(NULL,NULL,NULL,#MEMBER#).[AGENT_STATE_LAST_UPDATE_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-agent-list-agents-fenced-mode-processes-system-entities-database)\r\n\r\n[CURRENT TIMESTAMP](https://www.ibm.com/docs/en/db2/11.5?topic=registers-current-timestamp)\r\n\r\n\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Lock held\r\n\r\nThe number of locks currently held. \r\n\r\n**Source:**  [MON_GET_DATABASE](https://www.ibm.com/docs/en/db2/11.5?topic=functions-mon-get-database-get-database-metrics)(#MEMBER#).SUM([NUM_LOCKS_HELD](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001281))\r\n\r\n\r\n<hr />\r\n\r\n### Lock waits\r\n\r\nThe total number of times applications or connections waited for locks. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([LOCK_WAITS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001293))\r\n\r\n\r\n<hr />\r\n\r\n### Lock timeouts\r\n\r\nThe number of times that a request to lock an object timed out instead of being granted. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([LOCK_TIMEOUTS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001290))\r\n\r\n\r\n<hr />\r\n\r\n### Lock escalations\r\n\r\nThe number of times that locks have been escalated from several row locks to a table lock. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([LOCK_ESCALS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-l#r0001284))\r\n\r\n\r\n<hr />\r\n\r\n### Deadlocks\r\n\r\nThe total number of deadlocks that have occurred. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DEADLOCKS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001283))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Threshold violations\r\n\r\nThe total number of times a threshold was violated. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([THRESH_VIOLATIONS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0056501))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Hit ratio\r\n\r\nThe ratio of the number of pages which have been requested  from the buffer pool (logical) to pages from the table space containers (physical) for regular, large and temporary table spaces.\r\n\r\n= (PHYSICAL_READS + DIRECT_READS) / (LOGICAL_READS + DIRECT_READS)\r\n\r\n\r\n\r\n**Source:**\r\n\r\nLOGICAL_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0056501) + [POOL_INDEX_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001238) + [POOL_XDA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022731) + [POOL_TEMP_DATA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011302) + [POOL_TEMP_INDEX_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011303) + [POOL_TEMP_XDA_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022738) + [POOL_COL_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060763) + [POOL_TEMP_COL_L_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060873))\r\n\r\nPHYSICAL_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001236) + [POOL_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001239) + [POOL_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022730) + [POOL_TEMP_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011300) + [POOL_TEMP_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011301) + [POOL_TEMP_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022739) + [POOL_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060858) + [POOL_TEMP_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060874))\r\n\r\nDIRECT_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001260))\r\n\r\n\r\n\r\n\r\n\r\n## Timespent\r\n\r\n<hr />\r\n\r\n### Avg p read time\r\n\r\nThe average time for a page requested from the table space containers (physical) for all types of table spaces.\r\n\r\n= POOL_READ_TIME / PHYSICAL_READS\r\n\r\n\r\n**Source:** \r\n\r\nPOOL_READ_TIME = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_READ_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001241))\r\n\r\nPHYSICAL_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001236) + [POOL_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001239) + [POOL_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022730) + [POOL_TEMP_DATA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011300) + [POOL_TEMP_INDEX_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0011301) + [POOL_TEMP_XDA_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022739) + [POOL_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060858) + [POOL_TEMP_COL_P_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0060874))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Avg d read time\r\n\r\nThe average time required to perform the direct reads.\r\n\r\n= DIRECT_READ_TIME / DIRECT_READS \r\n\r\n**Source:** \r\n\r\nDIRECT_READ_TIME = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_READ_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001264))\r\n\r\n\r\nDIRECT_READS = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_READS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001260))\r\n\r\n\r\n<hr />\r\n\r\n### Sorts\r\n\r\nThe total number of sorts that have been executed. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([TOTAL_SORTS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0001219))\r\n\r\n\r\n<hr />\r\n\r\n### Sort overflows\r\n\r\nThe total number of sorts that ran out of sort heap and may have required disk space for temporary storage. \r\n\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([SORT_OVERFLOWS](https://www.ibm.com/docs/en/SSEPGG_11.5.0/com.ibm.db2.luw.admin.mon.doc/doc/monitor-elements-s.html#r0001221))\r\n\r\n\r\n<hr />\r\n\r\n### Hash joins\r\n\r\nThe total number of hash joins executed. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([TOTAL_HASH_JOINS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0002283))\r\n\r\n\r\n<hr />\r\n\r\n### Hash join overflows\r\n\r\nThe number of times that hash join data exceeded the available sort heap space. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([HASH_JOIN_OVERFLOWS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-h#r0002286))\r\n\r\n\r\n<hr />\r\n\r\n### Hash grpbys\r\n\r\nThe total number of hashed GROUP BY operations.\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([TOTAL_HASH_GRPBYS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-t#r0061038))\r\n\r\n\r\n<hr />\r\n\r\n### Hash grpb overflows\r\n\r\nThe number of times that GROUP BY operations using hashing as their grouping method exceeded the available sort heap memory.\r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([HASH_GRPBY_OVERFLOWS](https://www.ibm.com/docs/en/db2/11.5?topic=reference-h#r0061039))\r\n\r\n\r\n<hr />\r\n\r\n### Avg p write time\r\n\r\nThe average time for an asynchronous write to complete.\r\n\r\n\r\n= POOL_WRITE_TIME / WRITES \r\n\r\n**Source:** \r\n\r\nPOOL_WRITE_TIME = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_WRITE_TIME](https://www.ibm.com/docs/en/SSEPGG_11.5.0/com.ibm.db2.luw.admin.mon.doc/doc/monitor-elements-p.html#r0001242))\r\n\r\nWRITES = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([POOL_DATA_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001237) + [POOL_INDEX_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0001240) + [POOL_XDA_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-p#r0022732))\r\n\r\n\r\n\r\n<hr />\r\n\r\n### Avg d write time\r\n\r\nThe average time required to perform a direct write. \r\n\r\n= DIRECT_WRITE_TIME / DIRECT_WRITES \r\n\r\n**Source:** \r\n\r\nDIRECT_WRITE_TIME = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_WRITE_TIME](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001265))\r\n\r\nDIRECT_WRITES = [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([DIRECT_WRITES](https://www.ibm.com/docs/en/db2/11.5?topic=reference-d#r0001261))\r\n\r\n\r\n<hr />\r\n\r\n### Pct time queued\r\n\r\nThe time spent waiting on a WLM queuing threshold. \r\n\r\n**Source:** [MON_GET_SERVICE_SUBCLASS](https://www.ibm.com/docs/en/db2/11.5?topic=mpf-mon-get-service-subclass-get-service-subclass-metrics)(NULL,NULL,#MEMBER#).SUM([WLM_QUEUE_TIME_TOTAL](https://www.ibm.com/docs/en/db2/11.5?topic=reference-w#r0054063))\r\n\r\n\r\n","fileAbsolutePath":"C:/Users/0G6714649/Documents/dmctop/dmctop-wiki/src/pages/Overview/db_overview.mdx"}}},
    "staticQueryHashes": ["1364590287","137577622","2102389209","2456312558","2746626797","3018647132","3037994772","768070550"]}